<style>
#edq-overlay-container {
  position: fixed;
  top: 25%;
  width: 100%;
  height: 100%;
}
</style>


<a id="EDQ_VERIFY_" class="ps-button" role="button">Verify Address</a>
<script>
  var trigger = document.getElementById("EDQ_VERIFY_");

  var proWebStylesheet = document.createElement("link");
  proWebStylesheet.type = "text/css";
  proWebStylesheet.rel = "stylesheet";
  proWebStylesheet.id = "edq-pro-web-css";
  proWebStylesheet.href = "https://edqprofservus.blob.core.windows.net/assets/pro-web.css";
  document.body.appendChild(proWebStylesheet);

  var globalIntuitiveStylesheet = document.createElement("link");
  globalIntuitiveStylesheet.type = "text/css";
  globalIntuitiveStylesheet.rel = "stylesheet";
  globalIntuitiveStylesheet.id = "edq-global-intuitive-css";
  globalIntuitiveStylesheet.href =
  "https://edqprofservus.blob.core.windows.net/assets/global-intuitive-unicorn.css";
  document.body.appendChild(globalIntuitiveStylesheet);

  var interval = setInterval(function() {
    if (trigger !== null && document.getElementById("DERIVED_ADDRESS_ADDRESS1") !== null){
      clearInterval(interval);

      window.EdqConfig = {
        PRO_WEB_TIMEOUT: 2500,
        PRO_WEB_SUBMIT_TRIGGERS: [
          {
            type: "click",
            element: trigger
          }
        ],
        PRO_WEB_AUTH_TOKEN: "",
        PRO_WEB_LAYOUT: "EDQDemoLayout",
        PRO_WEB_COUNTRY: "USA",
        PRO_WEB_MAPPING: [
          {
            field: document.getElementById("DERIVED_ADDRESS_ADDRESS1"),
            modalFieldSelector: "#interaction-address--original-address-line-one",
            elements: ["AddressLine1"],
            separator: ""
          },

          {
            field: document.getElementById("DERIVED_ADDRESS_ADDRESS2"),
            modalFieldSelector: '#interaction-address--original-address-line-two',
            elements: ["AddressLine2"],
            separator: ""
          },

          {
            field: document.getElementById("DERIVED_ADDRESS_CITY$69$"),
            modalFieldSelector: '#interaction-address--original-locality',
            elements: ["CityLocality"],
            separator: ''
          },

          {
            field: document.getElementById("SCC_STATE_FL_VW_DESCR"),
            modalFieldSelector: '#interaction-address--original-province',
            elements: ["StateProvince"],
            separator: ''
          },

          {
            field: document.getElementById("DERIVED_ADDRESS_POSTAL$70$"),
            modalFieldSelector: '#interaction-address--original-postal-code',
            elements: ["PostalCode"],
            separator: ''
          },

          {
            field: document.getElementById('DERIVED_ADDRESS_COUNTY'),
            modalFieldSelector: '', // Only the standard first 5 addrss lines require modalFieldSelector
            elements: ["County"],
            separator: ''
          },
        ],

        GLOBAL_INTUITIVE_AUTH_TOKEN: "",
        GLOBAL_INTUITIVE_ELEMENT: document.getElementById("DERIVED_ADDRESS_ADDRESS1"),
        GLOBAL_INTUITIVE_MAPPING: [
          {
            field: document.getElementById("DERIVED_ADDRESS_ADDRESS1"),
            elements: ["address.addressLine1"],
          },

          {
            field: document.getElementById("DERIVED_ADDRESS_ADDRESS2"),
            elements: ["address.addressLine2"],
          },

          {
            field: document.getElementById("DERIVED_ADDRESS_CITY$69$"),
            elements: ["address.locality"],
          },

          {
            field: document.getElementById("SCC_STATE_FL_VW_DESCR"),
            elements: ["address.province"],
          },

          {
            field: document.getElementById("DERIVED_ADDRESS_POSTAL$70$"),
            elements: ["address.postalCode"],
          },

          {
            field: document.getElementById("DERIVED_ADDRESS_COUNTY"),
            elements: ["components.county1"],
          },
        ]
      };

      var verificationUnicornScript = document.createElement("script");
      verificationUnicornScript.type = "text/javascript";
      verificationUnicornScript.id = "edq-verification-unicorn";
      verificationUnicornScript.src = "https://edqprofservus.blob.core.windows.net/assets/verification-unicorn.js";

      var globalIntuitiveUnicornScript = document.createElement("script");
      globalIntuitiveUnicornScript.type = "text/javascript";
      globalIntuitiveUnicornScript.id = "edq-global-intuitive-unicorn";
      globalIntuitiveUnicornScript.src =
        "https://edqprofservus.blob.core.windows.net/assets/global-intuitive-unicorn.js";

      var edqScript = document.createElement("script");
      edqScript.type = "text/javascript";
      edqScript.src = "https://edqprofservus.blob.core.windows.net/assets/edq.js"
      edqScript.id = "edq-pegasus";
      edqScript.onload = function() {
        document.body.appendChild(verificationUnicornScript);
        document.body.appendChild(globalIntuitiveUnicornScript);
      }

      if (document.getElementById("edq-pegasus") === null) {
        document.body.appendChild(edqScript);

      // This is here because PeopleSoft will "reset" the integration each time you change a field
      // and refocus. The purpose of this is to rebind the integration.
      } else {
        document.getElementById("edq-verification-unicorn").remove();
        document.body.appendChild(verificationUnicornScript);
        document.body.appendChild(globalIntuitiveUnicornScript);
      }
    }
  }, 1000);
</script>
